<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="ProjectCreator.MainWindow"
        Width="700" Height="560"
        Title="Project Creator">
  <ScrollViewer>
  <StackPanel Margin="16" Spacing="10">
    <TextBlock Text="Создание проекта" FontSize="18"/>

    <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
      <TextBlock Width="120" VerticalAlignment="Center" Text="Название проекта:"/>
      <StackPanel>
        <TextBox Width="320" Text="{Binding ProjectName}"/>
        <TextBlock Foreground="Tomato" FontSize="12" Text="{Binding ProjectNameError}"/>
      </StackPanel>
    </StackPanel>

    <TextBlock Text="Опции:"/>
    <StackPanel>
      <CheckBox Content="Создать venv (--venv)" IsChecked="{Binding UseVenv}"/>
      <CheckBox Content="Установить пакеты (--install)" IsChecked="{Binding InstallPackages}"/>
      <CheckBox Content="Перезаписать шаблоны (--refresh-templates)" IsChecked="{Binding RefreshTemplates}"/>
      <CheckBox Content="Дозаполнить существующую папку (--force)" IsChecked="{Binding Force}"/>
    </StackPanel>

    <Border BorderThickness="1" Padding="8" CornerRadius="4">
      <StackPanel Spacing="4">
        <TextBlock Text="Проверка окружения Python" FontWeight="Bold"/>
        <TextBlock Text="{Binding PythonStatus}"/>
        <TextBlock Text="{Binding PipStatus}"/>
        <TextBlock Text="{Binding VenvStatus}"/>
        <Button Content="Обновить проверку" Width="160" Command="{Binding RefreshEnvCommand}"/>
        <TextBlock TextWrapping="Wrap" Foreground="Gray" FontSize="12"
                   Text="Если чего-то не хватает: установите Python (https://www.python.org/downloads/), добавьте в PATH. Затем: python -m ensurepip --upgrade; python -m pip install --upgrade pip; при необходимости: python -m pip install virtualenv. Достаточно встроенного python -m venv."/>
      </StackPanel>
    </Border>

    <StackPanel Orientation="Horizontal" Spacing="10">
      <Button Content="Создать проект" Width="160" IsEnabled="{Binding CanCreate}" Command="{Binding CreateCommand}"/>
      <Button Content="Обзор" Width="100" Command="{Binding BrowseCommand}"/>
    </StackPanel>

    <TextBlock Text="Логи"/>
    <TextBox Height="120" IsReadOnly="True" TextWrapping="Wrap" AcceptsReturn="True" Text="{Binding Log}"/>
  </StackPanel>
  </ScrollViewer>
</Window>


